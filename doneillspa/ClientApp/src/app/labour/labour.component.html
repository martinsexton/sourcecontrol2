<div class="container-fluid">
  <nav *ngIf="selectedProject" class="navbar navbar-expand-lg navbar-light bg-light">
    <ul class="navbar-nav mr-auto">
      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          Project
        </a>
        <div class="dropdown-menu" aria-labelledby="navbarDropdown">
          <a *ngFor="let proj of projects; let i = index" class="dropdown-item" (click)="filterLabourCostForProject(proj)">{{proj.name}}</a>
        </div>
      </li>
    </ul>
  </nav>
  <div *ngIf="loadingLabourDetails" class="d-flex justify-content-center">
    <div class="spinner-grow" role="status">
      <span class="sr-only">Loading...</span>
    </div>
  </div>
  <div class="row" *ngIf="selectedProject">
    <h3 class="display-4">Labour Costs For {{selectedProject.name}}</h3>
  </div>
  <div *ngIf="selectedProject" class="div-to-stand-out">
    <table class="table table-bordered" *ngIf="selectedProject">
      <thead>
        <tr>
          <th>Week</th>
          <th>Supervisor</th>
          <th>Charge Hand</th>
          <th>Elect R1</th>
          <th>Elect R2</th>
          <th>Elect R3</th>
          <th>Temp</th>
          <th>First Year Apprentice</th>
          <th>Second Year Apprentice</th>
          <th>Third Year Apprentice</th>
          <th>Fourth Year Apprentice</th>
          <th>Total Labour Cost</th>
        </tr>
      </thead>
      <tbody class="tbody">
        <tr *ngFor="let lw of labourWeeks">
          <td>{{lw.week | date:'fullDate'}}</td>
          <td>{{lw.supervisorCost | currency:'EUR'}}</td>
          <td>{{lw.chargehandCost | currency:'EUR'}}</td>
          <td>{{lw.elecR1Cost | currency:'EUR'}}</td>
          <td>{{lw.elecR2Cost | currency:'EUR'}}</td>
          <td>{{lw.elecR3Cost | currency:'EUR'}}</td>
          <td>{{lw.tempCost | currency:'EUR'}}</td>
          <td>{{lw.firstYearApprenticeCost | currency:'EUR'}}</td>
          <td>{{lw.secondYearApprenticeCost | currency:'EUR'}}</td>
          <td>{{lw.thirdYearApprenticeCost | currency:'EUR'}}</td>
          <td>{{lw.fourthYearApprenticeCost | currency:'EUR'}}</td>
          <td>{{lw.totalCost | currency:'EUR'}}</td>
        </tr>
      </tbody>
    </table>
    <button class="btn btn-primary" type="button" (click)="downloadReport()">
      <span [class]="sendingReport ? 'spinner-grow spinner-grow-sm' : ''" role="status" aria-hidden="true"></span>
      Download Report
    </button>
  </div>
  <!-- Toasts -->
  <div aria-live="polite" aria-atomic="true">
    <!-- Position it -->
    <div style="position: absolute; top: 3rem; right: 0;">
      <div class="toast" role="status" aria-live="polite" aria-atomic="true" data-delay="4000">
        <div class="toast-header">
          <strong class="mr-auto">Notification!</strong>
          <button type="button" class="ml-2 mb-1 close" data-dismiss="toast" aria-label="Close">
            <span aria-hidden="true">Ã—</span>
          </button>
        </div>
        <div class="toast-body">
          {{errors}}
        </div>
      </div>
    </div>
  </div>
  <!-- Graphs -->
  <!--<div style="display: block">
    <canvas baseChart
            [datasets]="barChartData"
            [labels]="barChartLabels"
            [options]="barChartOptions"
            [legend]="barChartLegend"
            [chartType]="barChartType"
            (chartHover)="chartHovered($event)"
            (chartClick)="chartClicked($event)"></canvas>
  </div>-->
</div>
